<section class="portfolio">
  <h3>Tableau Dashboard – Superstore Assignment</h3>
  <p>Click the button below to view the interactive Tableau dashboard in a new tab:</p>

  <a href="https://public.tableau.com/views/SuperstoreAssignment_17529924217280/StateSales?:language=en-US&:embed=true&:toolbar=yes&:display_count=yes"
     target="_blank"
     style="
       display: inline-block;
       padding: 10px 20px;
       background-color: #2F70AF;
       color: white;
       font-weight: bold;
       text-align: center;
       border-radius: 5px;
       text-decoration: none;
       margin-top: 10px;
     ">
    View Tableau Dashboard
  </a>

  <br><br>

  <h3>Calculator App</h3>
  <p>Try the calculator app by clicking the button below:</p>
  <a href="https://calculator-app-g63camuddhytd6hq5paiej.streamlit.app/" 
     target="_blank"
     style="
       display: inline-block;
       padding: 10px 20px;
       background-color: #28a745;
       color: white;
       font-weight: bold;
       text-align: center;
       border-radius: 5px;
       text-decoration: none;
       margin-top: 10px;
     ">
    Open Calculator
  </a>

  <br><br>

  <!-- Chatbot Section -->
  <h3>Ask Me About My Profile</h3>
  <input id="userInput" type="text" placeholder="Type your question here..." style="width: 100%; padding: 8px; margin-bottom: 10px;"/>
  <button onclick="getAnswer()" style="width: 100%; padding: 8px; background-color: #2F70AF; color: white; border: none; border-radius: 4px; cursor: pointer;">Ask</button>
  <p id="botResponse" style="margin-top: 15px; min-height: 40px; font-weight: bold; color: #333;"></p>

  <!-- Back Button -->
  <br><br>
  <a href="index.html" style="
    display: inline-block;
    padding: 8px 16px;
    background-color: #777;
    color: white;
    text-decoration: none;
    border-radius: 5px;
  ">
    ⬅️ Back to Home
  </a>
</section>

<script>
  const qa = [
    {
      keywords: ["who", "you"],
      answer: "I am Naveen Porwal, a data analyst skilled in Python, Tableau, and data visualization."
    },
    {
      keywords: ["skill", "have", "skills"],
      answer: "I have expertise in Python programming, Tableau dashboard creation, and data analytics."
    },
    {
      keywords: ["portfolio", "find", "where"],
      answer: "You can visit my portfolio at https://naveenporwal3.github.io/portfolio.html"
    },
    {
      keywords: ["contact", "reach", "email", "phone"],
      answer: "You can reach me via the Contact page on my portfolio website."
    },
    {
      keywords: ["experience", "worked", "background"],
      answer: "I have experience working with data visualization, creating dashboards, and Python automation."
    },
    {
      keywords: ["project", "done", "work"],
      answer: "I have worked on Tableau dashboards, Python calculators, and various data analytics projects."
    },
    {
      keywords: ["help", "assist"],
      answer: "Try asking me about my skills, projects, experience, or how to contact me."
    }
  ];

  // Change here: return true if **any** keyword is found in input
  function containsAnyKeyword(input, keywords) {
    input = input.toLowerCase();
    return keywords.some(keyword => input.includes(keyword));
  }

  function getAnswer() {
    const input = document.getElementById("userInput").value.toLowerCase().trim();

    if (!input) {
      document.getElementById("botResponse").innerText = "Please type a question!";
      return;
    }

    // Find the first matching QA where any keyword matches
    const matched = qa.find(item => containsAnyKeyword(input, item.keywords));

    if (matched) {
      document.getElementById("botResponse").innerText = matched.answer;
    } else {
      document.getElementById("botResponse").innerText = "Sorry, I don't understand that. Try asking about my skills, projects, or experience.";
    }
  }
</script>
